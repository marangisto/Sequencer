Version 4
SHEET 1 2228 680
WIRE 1424 -80 1408 -80
WIRE 1520 -80 1488 -80
WIRE 1936 -64 1920 -64
WIRE 2032 -64 2000 -64
WIRE 1408 0 1408 -80
WIRE 1424 0 1408 0
WIRE 1520 0 1520 -80
WIRE 1520 0 1504 0
WIRE 1920 16 1920 -64
WIRE 1936 16 1920 16
WIRE 2032 16 2032 -64
WIRE 2032 16 2016 16
WIRE 608 96 544 96
WIRE 720 96 688 96
WIRE 752 96 720 96
WIRE 864 96 832 96
WIRE 896 96 864 96
WIRE 1008 96 976 96
WIRE 1040 96 1008 96
WIRE 1152 96 1120 96
WIRE 1232 96 1152 96
WIRE 1408 96 1408 0
WIRE 1408 96 1312 96
WIRE 1424 96 1408 96
WIRE 1520 112 1520 0
WIRE 1520 112 1488 112
WIRE 1584 112 1520 112
WIRE 1664 112 1584 112
WIRE 1776 112 1760 112
WIRE 1920 112 1920 16
WIRE 1920 112 1856 112
WIRE 1936 112 1920 112
WIRE -448 128 -448 64
WIRE -272 128 -272 64
WIRE -112 128 -112 64
WIRE 80 128 80 96
WIRE 1424 128 1360 128
WIRE 2032 128 2032 16
WIRE 2032 128 2000 128
WIRE 2096 128 2032 128
WIRE 720 144 720 96
WIRE 864 144 864 96
WIRE 1008 144 1008 96
WIRE 1152 144 1152 96
WIRE 1936 144 1872 144
WIRE 1360 160 1360 128
WIRE 1872 176 1872 144
WIRE -448 240 -448 208
WIRE -272 240 -272 208
WIRE -112 240 -112 208
WIRE 80 240 80 208
WIRE 1664 240 1664 192
WIRE 1664 240 1584 240
WIRE 1760 240 1760 112
WIRE 1760 240 1664 240
WIRE 720 256 720 208
WIRE 864 256 864 208
WIRE 1008 256 1008 208
WIRE 1152 256 1152 208
WIRE 1360 256 1360 240
WIRE 1872 272 1872 256
WIRE 1584 288 1584 240
WIRE 1664 288 1664 240
WIRE 1584 384 1584 368
WIRE 1664 384 1664 368
WIRE 1664 384 1584 384
WIRE 1664 400 1664 384
FLAG 80 240 0
FLAG 80 96 PWM
FLAG 720 256 0
FLAG 544 96 PWM
FLAG 864 256 0
FLAG 1008 256 0
FLAG 1456 80 V+
FLAG 1456 144 V-
FLAG 1152 256 0
FLAG 1360 256 0
FLAG -112 240 0
FLAG -272 240 0
FLAG -448 240 0
FLAG -448 64 V5V
FLAG -272 64 V-
FLAG -112 64 V+
FLAG 1968 96 V+
FLAG 1968 160 V-
FLAG 1872 272 0
FLAG 2176 128 Out
FLAG 1664 400 0
SYMBOL voltage 80 112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vpwm
SYMATTR Value PULSE(0 5 0 30n 30n 16u 32u 100)
SYMBOL res 704 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL cap 704 144 R0
SYMATTR InstName C1
SYMATTR Value 47n
SYMBOL res 848 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 470
SYMBOL cap 848 144 R0
SYMATTR InstName C2
SYMATTR Value 47n
SYMBOL res 992 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 470
SYMBOL cap 992 144 R0
SYMATTR InstName C3
SYMATTR Value 47n
SYMBOL /Opamps/opamp2 1456 48 R0
SYMATTR InstName U1
SYMATTR Value TL071
SYMATTR SpiceModel TL071
SYMBOL res 1136 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 470
SYMBOL cap 1136 144 R0
SYMATTR InstName C4
SYMATTR Value 47n
SYMBOL /res 1344 144 R0
SYMATTR InstName R6
SYMATTR Value 22k
SYMBOL /res 1328 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 68k
SYMBOL /res 1520 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 68k
SYMBOL /res 1872 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 68k
SYMBOL /cap 1488 -96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 47p
SYMBOL /voltage -112 112 R0
SYMATTR InstName V1
SYMATTR Value 12V
SYMBOL /voltage -272 224 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName V2
SYMATTR Value 12V
SYMBOL /voltage -448 112 R0
SYMATTR InstName V3
SYMATTR Value 5V
SYMBOL /Opamps/opamp2 1968 64 R0
SYMATTR InstName U2
SYMATTR Value TL071
SYMATTR SpiceModel TL071
SYMBOL /res 1856 160 R0
SYMATTR InstName R11
SYMATTR Value 22k
SYMBOL /res 2032 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 68k
SYMBOL /res 2192 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL /cap 2000 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 47p
SYMBOL /res 1648 96 R0
SYMATTR InstName R14
SYMATTR Value 2.2k
SYMBOL /res 1648 272 R0
SYMATTR InstName R15
SYMATTR Value 2.2k
SYMBOL /res 1600 384 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 1.5k
SYMBOL /res 1600 208 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 470
TEXT 184 272 Left 2 !.tran 0 5m 0 500n
TEXT 256 320 Left 2 !.include TL071.mod
